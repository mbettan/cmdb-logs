2018-01-29 23:22:43,494  ERROR  [HA Heartbeat scheduler] - Transaction failed and started to rollback
com.mercury.topaz.cmdb.server.manage.dal.CmdbDalException: [ErrorCode [-2147483648] undefined error code]
Failed on commit connection [70933e5b], due to exception org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalConnection.commit(CmdbDalConnection.java:140)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalTransaction.commit(CmdbDalTransaction.java:25)
	at com.mercury.topaz.cmdb.server.transaction.Transaction.commit(Transaction.java:93)
	at com.mercury.topaz.cmdb.server.transaction.TransactionManager.commit(TransactionManager.java:94)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalTransactionManager.commit(CmdbDalTransactionManager.java:22)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:122)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:105)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.DefaultRetriableExecutorImpl.doExecute(DefaultRetriableExecutorImpl.java:37)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.AbstractRetriableExecutor.execute(AbstractRetriableExecutor.java:37)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:61)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:53)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy.invoke(DaoFactory.java:135)
	at com.sun.proxy.$Proxy244.testAndSetWriterServer(Unknown Source)
	at com.mercury.topaz.cmdb.server.manage.instance.Controller$HATestAndSetWriterServerTask.testAndSetWriterServer(Controller.java:332)
	at com.mercury.topaz.cmdb.server.manage.instance.Controller$HATestAndSetWriterServerTask.execute(Controller.java:324)
	at com.mercury.topaz.cmdb.server.base.itc.schedule.Scheduler$TaskWrapper.doExecute(Scheduler.java:242)
	at com.mercury.topaz.cmdb.server.base.itc.schedule.Scheduler$TaskWrapper.access$000(Scheduler.java:201)
	at com.mercury.topaz.cmdb.server.base.itc.schedule.Scheduler$TaskWrapper$1.executeInContext(Scheduler.java:229)
	at com.mercury.topaz.cmdb.server.base.itc.schedule.Scheduler$TaskWrapper$1.executeInContext(Scheduler.java:226)
	at com.mercury.topaz.cmdb.shared.manage.AuthorizationContextUtils.executeInSystemAuthorizationContext(AuthorizationContextUtils.java:24)
	at com.mercury.topaz.cmdb.server.base.itc.schedule.Scheduler$TaskWrapper.run(Scheduler.java:226)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:315)
	at org.postgresql.jdbc.PgConnection.executeTransactionCommand(PgConnection.java:776)
	at org.postgresql.jdbc.PgConnection.commit(PgConnection.java:797)
	at org.apache.commons.dbcp2.DelegatingConnection.commit(DelegatingConnection.java:368)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalConnection.commit(CmdbDalConnection.java:132)
	... 22 more
Caused by: java.io.EOFException
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:282)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1916)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:288)
	... 26 more
2018-01-29 23:22:43,503  INFO   [HA Heartbeat scheduler] - Cannot rollback transaction, it is null 291
2018-01-31 11:52:38,127  ERROR  [HA Heartbeat scheduler] - Transaction failed and started to rollback
com.mercury.topaz.cmdb.server.manage.dal.CmdbDalException: [ErrorCode [-2147483648] undefined error code]
Failed on commit connection [2463a75d], due to exception org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalConnection.commit(CmdbDalConnection.java:140)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalTransaction.commit(CmdbDalTransaction.java:25)
	at com.mercury.topaz.cmdb.server.transaction.Transaction.commit(Transaction.java:93)
	at com.mercury.topaz.cmdb.server.transaction.TransactionManager.commit(TransactionManager.java:94)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalTransactionManager.commit(CmdbDalTransactionManager.java:22)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:122)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:105)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.DefaultRetriableExecutorImpl.doExecute(DefaultRetriableExecutorImpl.java:37)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.AbstractRetriableExecutor.execute(AbstractRetriableExecutor.java:37)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:61)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:53)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy.invoke(DaoFactory.java:135)
	at com.sun.proxy.$Proxy244.testAndSetWriterServer(Unknown Source)
	at com.mercury.topaz.cmdb.server.manage.instance.Controller$HATestAndSetWriterServerTask.testAndSetWriterServer(Controller.java:332)
	at com.mercury.topaz.cmdb.server.manage.instance.Controller$HATestAndSetWriterServerTask.execute(Controller.java:324)
	at com.mercury.topaz.cmdb.server.base.itc.schedule.Scheduler$TaskWrapper.doExecute(Scheduler.java:242)
	at com.mercury.topaz.cmdb.server.base.itc.schedule.Scheduler$TaskWrapper.access$000(Scheduler.java:201)
	at com.mercury.topaz.cmdb.server.base.itc.schedule.Scheduler$TaskWrapper$1.executeInContext(Scheduler.java:229)
	at com.mercury.topaz.cmdb.server.base.itc.schedule.Scheduler$TaskWrapper$1.executeInContext(Scheduler.java:226)
	at com.mercury.topaz.cmdb.shared.manage.AuthorizationContextUtils.executeInSystemAuthorizationContext(AuthorizationContextUtils.java:24)
	at com.mercury.topaz.cmdb.server.base.itc.schedule.Scheduler$TaskWrapper.run(Scheduler.java:226)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:315)
	at org.postgresql.jdbc.PgConnection.executeTransactionCommand(PgConnection.java:776)
	at org.postgresql.jdbc.PgConnection.commit(PgConnection.java:797)
	at org.apache.commons.dbcp2.DelegatingConnection.commit(DelegatingConnection.java:368)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalConnection.commit(CmdbDalConnection.java:132)
	... 22 more
Caused by: java.io.EOFException
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:282)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1916)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:288)
	... 26 more
2018-01-31 11:52:38,133  INFO   [HA Heartbeat scheduler] - Cannot rollback transaction, it is null 291
2018-02-26 16:15:47,314  ERROR  [qtp888378046-926] - Transaction failed and started to rollback
com.mercury.topaz.cmdb.server.manage.dal.CmdbDalException: [ErrorCode [2] Couldn't connect to database]
Error getting connection from pool, due to exception: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: Connection to hcm-postgres-svc:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:540)
	at com.mercury.topaz.cmdb.server.dal.dao.impl.SequencesDaoImpl.allocateKeys(SequencesDaoImpl.java:32)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy$ProxyDalAbstractCommand.perform(DaoFactory.java:155)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand$FlowControlDalCommandExecutor.execute(DalAbstractCommand.java:36)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:227)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:222)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand.execute(DalAbstractCommand.java:54)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:120)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:105)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.DefaultRetriableExecutorImpl.doExecute(DefaultRetriableExecutorImpl.java:37)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.AbstractRetriableExecutor.execute(AbstractRetriableExecutor.java:37)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:61)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:53)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy.invoke(DaoFactory.java:135)
	at com.sun.proxy.$Proxy253.allocateKeys(Unknown Source)
	at com.mercury.topaz.cmdb.server.urm.impl.UrmDaoUtil.allocateCommitRevision(UrmDaoUtil.java:61)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.updatePersistencyAndHA(URMTransactionCache.java:544)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.fullCommit(URMTransactionCache.java:298)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.commit(URMTransactionCache.java:269)
	at com.mercury.topaz.cmdb.server.transaction.Transaction.commit(Transaction.java:93)
	at com.mercury.topaz.cmdb.server.transaction.TransactionManager.commit(TransactionManager.java:94)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:538)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:521)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.callDecoratedMethod(UnifiedResourceManagerStatisticsDecorator.java:638)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$StatisticsMethodWrapper.<init>(UnifiedResourceManagerStatisticsDecorator.java:61)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.<init>(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator.commitTransaction(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.hp.ucmdb.api.server.urm.UrmExecuteRequestProcessor.process(UrmExecuteRequestProcessor.java:107)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor$1.doWork(AbstractCustomerRequestProcessor.java:25)
	at com.mercury.topaz.cmdb.shared.manage.AuthorizationEntryPointHelper.authorizeAndProcess(AuthorizationEntryPointHelper.java:50)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor.doProcess(AbstractCustomerRequestProcessor.java:22)
	at com.hp.ucmdb.api.server.request.RequestProcessorBase.processAndLog(RequestProcessorBase.java:114)
	at com.hp.ucmdb.api.server.util.ApiProcessingHelper.processRequestLocallyLocalMode(ApiProcessingHelper.java:70)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.processRequest(LocalRequestSubmitter.java:128)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.internalSubmitRequest(LocalRequestSubmitter.java:109)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:53)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:26)
	at com.hp.ucmdb.api.client.UcmdbServiceImpl.submitRequest(UcmdbServiceImpl.java:412)
	at com.hp.ucmdb.api.client.AbstractService.submitRequest(AbstractService.java:19)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.execute(UrmServiceImpl.java:35)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.putAll(UrmServiceImpl.java:57)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.put(UrmServiceImpl.java:43)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:55)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy216.put(Unknown Source)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils$3.run(ServerLoginUtils.java:369)
	at com.hp.ucmdb.uiserver.services.context.ServerContext.executeInSessionlessContext(ServerContext.java:183)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.setUIUserPreference(ServerLoginUtils.java:364)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.saveUserFailedAttemptsCounterInUserPreferences(ServerLoginUtils.java:343)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.login(ServerLoginUtils.java:191)
	at com.hp.ucmdb.uiserver.actions.LoginRequestAction.execute(LoginRequestAction.java:134)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:894)
	at ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1539)
	at ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)
	at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:96)
	at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:88)
	at ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1615)
	at ognl.ASTMethod.getValueBody(ASTMethod.java:91)
	at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)
	at ognl.SimpleNode.getValue(SimpleNode.java:258)
	at ognl.Ognl.getValue(Ognl.java:467)
	at ognl.Ognl.getValue(Ognl.java:431)
	at com.opensymphony.xwork2.ognl.OgnlUtil$3.execute(OgnlUtil.java:351)
	at com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecuteMethod(OgnlUtil.java:403)
	at com.opensymphony.xwork2.ognl.OgnlUtil.callMethod(OgnlUtil.java:349)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:436)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:291)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:253)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:177)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:260)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:73)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.doIntercept(ConversionErrorInterceptor.java:139)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:133)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:133)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:192)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:69)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.DateTextFieldInterceptor.intercept(DateTextFieldInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:88)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:246)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:99)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:139)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:155)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:174)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:120)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:171)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:195)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.factory.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:564)
	at org.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:81)
	at org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:143)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.AuthenticationFilter.doFilter(AuthenticationFilter.java:151)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.ClickjackingFilter.doFilter(ClickjackingFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.CSRF_Filter.doFilter(CSRF_Filter.java:74)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.XssFilter.doFilter(XssFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.sw.bto.ast.security.lwsso.LWSSOFilter.doFilter(LWSSOFilter.java:74)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpCachingPolicyFilter.doFilter(HttpCachingPolicyFilter.java:44)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.StaticResourcesIdleTimeoutFilter.doFilter(StaticResourcesIdleTimeoutFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HostHeaderFilter.doFilter(HostHeaderFilter.java:41)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpRequestMethodFilter.doFilter(HttpRequestMethodFilter.java:35)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.SecurityRestrictionsFilter.doFilter(SecurityRestrictionsFilter.java:34)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.LBSessionCookieFilter.doFilter(LBSessionCookieFilter.java:58)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
	at org.eclipse.jetty.server.Server.handle(Server.java:497)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: Connection to hcm-postgres-svc:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:491)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:534)
	... 180 more
Caused by: org.postgresql.util.PSQLException: Connection to hcm-postgres-svc:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:52)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:216)
	at org.postgresql.Driver.makeConnection(Driver.java:404)
	at org.postgresql.Driver.connect(Driver.java:272)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.apache.commons.dbcp2.DriverManagerConnectionFactory.createConnection(DriverManagerConnectionFactory.java:79)
	at com.mercury.topaz.cmdb.server.manage.dal.DataDirectConnectionFactory.createConnection(DataDirectConnectionFactory.java:30)
	at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:256)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:868)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:435)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:363)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager$ConnectionPoolDecorator.borrowObject(ConnectionPoolManager.java:767)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:479)
	... 181 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.postgresql.core.PGStream.<init>(PGStream.java:61)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144)
	... 195 more
2018-02-26 16:15:47,316  INFO   [qtp888378046-926] - Cannot rollback transaction, it is null 926
2018-02-26 16:15:47,340  ERROR  [qtp888378046-926] - Transaction failed and started to rollback
com.mercury.topaz.cmdb.server.manage.dal.CmdbDalException: [ErrorCode [2] Couldn't connect to database]
Error getting connection from pool, due to exception: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: Connection to hcm-postgres-svc:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:540)
	at com.mercury.topaz.cmdb.server.dal.dao.impl.SequencesDaoImpl.allocateKeys(SequencesDaoImpl.java:32)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy$ProxyDalAbstractCommand.perform(DaoFactory.java:155)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand$FlowControlDalCommandExecutor.execute(DalAbstractCommand.java:36)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:227)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:222)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand.execute(DalAbstractCommand.java:54)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:120)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:105)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.DefaultRetriableExecutorImpl.doExecute(DefaultRetriableExecutorImpl.java:37)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.AbstractRetriableExecutor.execute(AbstractRetriableExecutor.java:37)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:61)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:53)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy.invoke(DaoFactory.java:135)
	at com.sun.proxy.$Proxy253.allocateKeys(Unknown Source)
	at com.mercury.topaz.cmdb.server.urm.impl.UrmDaoUtil.allocateCommitRevision(UrmDaoUtil.java:61)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.updatePersistencyAndHA(URMTransactionCache.java:544)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.fullCommit(URMTransactionCache.java:298)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.commit(URMTransactionCache.java:269)
	at com.mercury.topaz.cmdb.server.transaction.Transaction.commit(Transaction.java:93)
	at com.mercury.topaz.cmdb.server.transaction.TransactionManager.commit(TransactionManager.java:94)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:538)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:521)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.callDecoratedMethod(UnifiedResourceManagerStatisticsDecorator.java:638)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$StatisticsMethodWrapper.<init>(UnifiedResourceManagerStatisticsDecorator.java:61)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.<init>(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator.commitTransaction(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.hp.ucmdb.api.server.urm.UrmExecuteRequestProcessor.process(UrmExecuteRequestProcessor.java:107)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor$1.doWork(AbstractCustomerRequestProcessor.java:25)
	at com.mercury.topaz.cmdb.shared.manage.AuthorizationEntryPointHelper.authorizeAndProcess(AuthorizationEntryPointHelper.java:50)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor.doProcess(AbstractCustomerRequestProcessor.java:22)
	at com.hp.ucmdb.api.server.request.RequestProcessorBase.processAndLog(RequestProcessorBase.java:114)
	at com.hp.ucmdb.api.server.util.ApiProcessingHelper.processRequestLocallyLocalMode(ApiProcessingHelper.java:70)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.processRequest(LocalRequestSubmitter.java:128)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.internalSubmitRequest(LocalRequestSubmitter.java:109)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:53)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:26)
	at com.hp.ucmdb.api.client.UcmdbServiceImpl.submitRequest(UcmdbServiceImpl.java:412)
	at com.hp.ucmdb.api.client.AbstractService.submitRequest(AbstractService.java:19)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.execute(UrmServiceImpl.java:35)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.putAll(UrmServiceImpl.java:57)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.put(UrmServiceImpl.java:43)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:55)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy216.put(Unknown Source)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils$3.run(ServerLoginUtils.java:369)
	at com.hp.ucmdb.uiserver.services.context.ServerContext.executeInSessionlessContext(ServerContext.java:183)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.setUIUserPreference(ServerLoginUtils.java:364)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.saveUserPasswordExpirationTimeInUserPreferences(ServerLoginUtils.java:406)
	at com.hp.ucmdb.uiserver.actions.LoginRequestAction.execute(LoginRequestAction.java:204)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:894)
	at ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1539)
	at ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)
	at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:96)
	at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:88)
	at ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1615)
	at ognl.ASTMethod.getValueBody(ASTMethod.java:91)
	at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)
	at ognl.SimpleNode.getValue(SimpleNode.java:258)
	at ognl.Ognl.getValue(Ognl.java:467)
	at ognl.Ognl.getValue(Ognl.java:431)
	at com.opensymphony.xwork2.ognl.OgnlUtil$3.execute(OgnlUtil.java:351)
	at com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecuteMethod(OgnlUtil.java:403)
	at com.opensymphony.xwork2.ognl.OgnlUtil.callMethod(OgnlUtil.java:349)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:436)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:291)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:253)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:177)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:260)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:73)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.doIntercept(ConversionErrorInterceptor.java:139)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:133)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:133)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:192)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:69)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.DateTextFieldInterceptor.intercept(DateTextFieldInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:88)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:246)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:99)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:139)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:155)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:174)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:120)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:171)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:195)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.factory.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:564)
	at org.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:81)
	at org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:143)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.AuthenticationFilter.doFilter(AuthenticationFilter.java:151)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.ClickjackingFilter.doFilter(ClickjackingFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.CSRF_Filter.doFilter(CSRF_Filter.java:74)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.XssFilter.doFilter(XssFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.sw.bto.ast.security.lwsso.LWSSOFilter.doFilter(LWSSOFilter.java:74)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpCachingPolicyFilter.doFilter(HttpCachingPolicyFilter.java:44)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.StaticResourcesIdleTimeoutFilter.doFilter(StaticResourcesIdleTimeoutFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HostHeaderFilter.doFilter(HostHeaderFilter.java:41)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpRequestMethodFilter.doFilter(HttpRequestMethodFilter.java:35)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.SecurityRestrictionsFilter.doFilter(SecurityRestrictionsFilter.java:34)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.LBSessionCookieFilter.doFilter(LBSessionCookieFilter.java:58)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
	at org.eclipse.jetty.server.Server.handle(Server.java:497)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: Connection to hcm-postgres-svc:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:491)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:534)
	... 179 more
Caused by: org.postgresql.util.PSQLException: Connection to hcm-postgres-svc:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:52)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:216)
	at org.postgresql.Driver.makeConnection(Driver.java:404)
	at org.postgresql.Driver.connect(Driver.java:272)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.apache.commons.dbcp2.DriverManagerConnectionFactory.createConnection(DriverManagerConnectionFactory.java:79)
	at com.mercury.topaz.cmdb.server.manage.dal.DataDirectConnectionFactory.createConnection(DataDirectConnectionFactory.java:30)
	at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:256)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:868)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:435)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:363)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager$ConnectionPoolDecorator.borrowObject(ConnectionPoolManager.java:767)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:479)
	... 180 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.postgresql.core.PGStream.<init>(PGStream.java:61)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144)
	... 194 more
2018-02-26 16:15:47,341  INFO   [qtp888378046-926] - Cannot rollback transaction, it is null 926
2018-02-26 16:15:48,494  ERROR  [qtp888378046-787] - Transaction failed and started to rollback
com.mercury.topaz.cmdb.server.manage.dal.CmdbDalException: [ErrorCode [2] Couldn't connect to database]
Error getting connection from pool, due to exception: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: Connection to hcm-postgres-svc:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:540)
	at com.mercury.topaz.cmdb.server.dal.dao.impl.SequencesDaoImpl.allocateKeys(SequencesDaoImpl.java:32)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy$ProxyDalAbstractCommand.perform(DaoFactory.java:155)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand$FlowControlDalCommandExecutor.execute(DalAbstractCommand.java:36)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:227)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:222)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand.execute(DalAbstractCommand.java:54)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:120)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:105)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.DefaultRetriableExecutorImpl.doExecute(DefaultRetriableExecutorImpl.java:37)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.AbstractRetriableExecutor.execute(AbstractRetriableExecutor.java:37)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:61)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:53)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy.invoke(DaoFactory.java:135)
	at com.sun.proxy.$Proxy253.allocateKeys(Unknown Source)
	at com.mercury.topaz.cmdb.server.urm.impl.UrmDaoUtil.allocateCommitRevision(UrmDaoUtil.java:61)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.updatePersistencyAndHA(URMTransactionCache.java:544)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.fullCommit(URMTransactionCache.java:298)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.commit(URMTransactionCache.java:269)
	at com.mercury.topaz.cmdb.server.transaction.Transaction.commit(Transaction.java:93)
	at com.mercury.topaz.cmdb.server.transaction.TransactionManager.commit(TransactionManager.java:94)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:538)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:521)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.callDecoratedMethod(UnifiedResourceManagerStatisticsDecorator.java:638)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$StatisticsMethodWrapper.<init>(UnifiedResourceManagerStatisticsDecorator.java:61)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.<init>(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator.commitTransaction(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.hp.ucmdb.api.server.urm.UrmExecuteRequestProcessor.process(UrmExecuteRequestProcessor.java:107)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor$1.doWork(AbstractCustomerRequestProcessor.java:25)
	at com.mercury.topaz.cmdb.shared.manage.AuthorizationEntryPointHelper.authorizeAndProcess(AuthorizationEntryPointHelper.java:50)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor.doProcess(AbstractCustomerRequestProcessor.java:22)
	at com.hp.ucmdb.api.server.request.RequestProcessorBase.processAndLog(RequestProcessorBase.java:114)
	at com.hp.ucmdb.api.server.util.ApiProcessingHelper.processRequestLocallyLocalMode(ApiProcessingHelper.java:70)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.processRequest(LocalRequestSubmitter.java:128)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.internalSubmitRequest(LocalRequestSubmitter.java:109)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:53)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:26)
	at com.hp.ucmdb.api.client.UcmdbServiceImpl.submitRequest(UcmdbServiceImpl.java:412)
	at com.hp.ucmdb.api.client.AbstractService.submitRequest(AbstractService.java:19)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.execute(UrmServiceImpl.java:35)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.putAll(UrmServiceImpl.java:57)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.put(UrmServiceImpl.java:43)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:55)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy216.put(Unknown Source)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils$3.run(ServerLoginUtils.java:369)
	at com.hp.ucmdb.uiserver.services.context.ServerContext.executeInSessionlessContext(ServerContext.java:183)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.setUIUserPreference(ServerLoginUtils.java:364)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.saveUserFailedAttemptsCounterInUserPreferences(ServerLoginUtils.java:343)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.login(ServerLoginUtils.java:191)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.loginUsingURLParams(ServerLoginUtils.java:630)
	at com.hp.ucmdb.uiserver.servlets.AuthenticationFilter.doFilter(AuthenticationFilter.java:134)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.ClickjackingFilter.doFilter(ClickjackingFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.CSRF_Filter.doFilter(CSRF_Filter.java:53)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.NoCacheFilter.doFilter(NoCacheFilter.java:26)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.XssFilter.doFilter(XssFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.sw.bto.ast.security.lwsso.LWSSOFilter.doFilter(LWSSOFilter.java:74)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpCachingPolicyFilter.doFilter(HttpCachingPolicyFilter.java:44)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.StaticResourcesIdleTimeoutFilter.doFilter(StaticResourcesIdleTimeoutFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HostHeaderFilter.doFilter(HostHeaderFilter.java:41)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpRequestMethodFilter.doFilter(HttpRequestMethodFilter.java:35)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.SecurityRestrictionsFilter.doFilter(SecurityRestrictionsFilter.java:34)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.LBSessionCookieFilter.doFilter(LBSessionCookieFilter.java:58)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
	at org.eclipse.jetty.server.Server.handle(Server.java:497)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: Connection to hcm-postgres-svc:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:491)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:534)
	... 111 more
Caused by: org.postgresql.util.PSQLException: Connection to hcm-postgres-svc:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:52)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:216)
	at org.postgresql.Driver.makeConnection(Driver.java:404)
	at org.postgresql.Driver.connect(Driver.java:272)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.apache.commons.dbcp2.DriverManagerConnectionFactory.createConnection(DriverManagerConnectionFactory.java:79)
	at com.mercury.topaz.cmdb.server.manage.dal.DataDirectConnectionFactory.createConnection(DataDirectConnectionFactory.java:30)
	at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:256)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:868)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:435)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:363)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager$ConnectionPoolDecorator.borrowObject(ConnectionPoolManager.java:767)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:479)
	... 112 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.postgresql.core.PGStream.<init>(PGStream.java:61)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144)
	... 126 more
2018-02-26 16:15:48,495  INFO   [qtp888378046-787] - Cannot rollback transaction, it is null 787
2018-02-26 16:16:49,302  ERROR  [qtp888378046-926] - Transaction failed and started to rollback
com.mercury.topaz.cmdb.server.manage.dal.CmdbDalException: [ErrorCode [2] Couldn't connect to database]
Error getting connection from pool, due to exception: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: The connection attempt failed.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:540)
	at com.mercury.topaz.cmdb.server.dal.dao.impl.SequencesDaoImpl.allocateKeys(SequencesDaoImpl.java:32)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy$ProxyDalAbstractCommand.perform(DaoFactory.java:155)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand$FlowControlDalCommandExecutor.execute(DalAbstractCommand.java:36)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:227)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:222)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand.execute(DalAbstractCommand.java:54)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:120)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:105)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.DefaultRetriableExecutorImpl.doExecute(DefaultRetriableExecutorImpl.java:37)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.AbstractRetriableExecutor.execute(AbstractRetriableExecutor.java:37)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:61)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:53)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy.invoke(DaoFactory.java:135)
	at com.sun.proxy.$Proxy253.allocateKeys(Unknown Source)
	at com.mercury.topaz.cmdb.server.urm.impl.UrmDaoUtil.allocateCommitRevision(UrmDaoUtil.java:61)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.updatePersistencyAndHA(URMTransactionCache.java:544)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.fullCommit(URMTransactionCache.java:298)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.commit(URMTransactionCache.java:269)
	at com.mercury.topaz.cmdb.server.transaction.Transaction.commit(Transaction.java:93)
	at com.mercury.topaz.cmdb.server.transaction.TransactionManager.commit(TransactionManager.java:94)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:538)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:521)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.callDecoratedMethod(UnifiedResourceManagerStatisticsDecorator.java:638)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$StatisticsMethodWrapper.<init>(UnifiedResourceManagerStatisticsDecorator.java:61)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.<init>(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator.commitTransaction(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.hp.ucmdb.api.server.urm.UrmExecuteRequestProcessor.process(UrmExecuteRequestProcessor.java:107)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor$1.doWork(AbstractCustomerRequestProcessor.java:25)
	at com.mercury.topaz.cmdb.shared.manage.AuthorizationEntryPointHelper.authorizeAndProcess(AuthorizationEntryPointHelper.java:50)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor.doProcess(AbstractCustomerRequestProcessor.java:22)
	at com.hp.ucmdb.api.server.request.RequestProcessorBase.processAndLog(RequestProcessorBase.java:114)
	at com.hp.ucmdb.api.server.util.ApiProcessingHelper.processRequestLocallyLocalMode(ApiProcessingHelper.java:70)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.processRequest(LocalRequestSubmitter.java:128)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.internalSubmitRequest(LocalRequestSubmitter.java:109)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:53)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:26)
	at com.hp.ucmdb.api.client.UcmdbServiceImpl.submitRequest(UcmdbServiceImpl.java:412)
	at com.hp.ucmdb.api.client.AbstractService.submitRequest(AbstractService.java:19)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.execute(UrmServiceImpl.java:35)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.putAll(UrmServiceImpl.java:57)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.put(UrmServiceImpl.java:43)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:55)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy216.put(Unknown Source)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils$3.run(ServerLoginUtils.java:369)
	at com.hp.ucmdb.uiserver.services.context.ServerContext.executeInSessionlessContext(ServerContext.java:183)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.setUIUserPreference(ServerLoginUtils.java:364)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.saveUserFailedAttemptsCounterInUserPreferences(ServerLoginUtils.java:343)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.login(ServerLoginUtils.java:191)
	at com.hp.ucmdb.uiserver.actions.LoginRequestAction.execute(LoginRequestAction.java:134)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:894)
	at ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1539)
	at ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)
	at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:96)
	at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:88)
	at ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1615)
	at ognl.ASTMethod.getValueBody(ASTMethod.java:91)
	at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)
	at ognl.SimpleNode.getValue(SimpleNode.java:258)
	at ognl.Ognl.getValue(Ognl.java:467)
	at ognl.Ognl.getValue(Ognl.java:431)
	at com.opensymphony.xwork2.ognl.OgnlUtil$3.execute(OgnlUtil.java:351)
	at com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecuteMethod(OgnlUtil.java:403)
	at com.opensymphony.xwork2.ognl.OgnlUtil.callMethod(OgnlUtil.java:349)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:436)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:291)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:253)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:177)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:260)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:73)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.doIntercept(ConversionErrorInterceptor.java:139)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:133)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:133)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:192)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:69)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.DateTextFieldInterceptor.intercept(DateTextFieldInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:88)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:246)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:99)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:139)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:155)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:174)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:120)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:171)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:195)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.factory.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:564)
	at org.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:81)
	at org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:143)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.AuthenticationFilter.doFilter(AuthenticationFilter.java:151)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.ClickjackingFilter.doFilter(ClickjackingFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.CSRF_Filter.doFilter(CSRF_Filter.java:74)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.XssFilter.doFilter(XssFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.sw.bto.ast.security.lwsso.LWSSOFilter.doFilter(LWSSOFilter.java:74)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpCachingPolicyFilter.doFilter(HttpCachingPolicyFilter.java:44)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.StaticResourcesIdleTimeoutFilter.doFilter(StaticResourcesIdleTimeoutFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HostHeaderFilter.doFilter(HostHeaderFilter.java:41)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpRequestMethodFilter.doFilter(HttpRequestMethodFilter.java:35)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.SecurityRestrictionsFilter.doFilter(SecurityRestrictionsFilter.java:34)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.LBSessionCookieFilter.doFilter(LBSessionCookieFilter.java:58)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
	at org.eclipse.jetty.server.Server.handle(Server.java:497)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: The connection attempt failed.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:491)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:534)
	... 180 more
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:272)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:52)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:216)
	at org.postgresql.Driver.makeConnection(Driver.java:404)
	at org.postgresql.Driver.connect(Driver.java:272)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.apache.commons.dbcp2.DriverManagerConnectionFactory.createConnection(DriverManagerConnectionFactory.java:79)
	at com.mercury.topaz.cmdb.server.manage.dal.DataDirectConnectionFactory.createConnection(DataDirectConnectionFactory.java:30)
	at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:256)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:868)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:435)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:363)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager$ConnectionPoolDecorator.borrowObject(ConnectionPoolManager.java:767)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:479)
	... 181 more
Caused by: java.net.SocketTimeoutException: connect timed out
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.postgresql.core.PGStream.<init>(PGStream.java:61)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144)
	... 195 more
2018-02-26 16:16:49,304  INFO   [qtp888378046-926] - Cannot rollback transaction, it is null 926
2018-02-26 16:16:59,337  ERROR  [qtp888378046-926] - Transaction failed and started to rollback
com.mercury.topaz.cmdb.server.manage.dal.CmdbDalException: [ErrorCode [2] Couldn't connect to database]
Error getting connection from pool, due to exception: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: The connection attempt failed.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:540)
	at com.mercury.topaz.cmdb.server.dal.dao.impl.SequencesDaoImpl.allocateKeys(SequencesDaoImpl.java:32)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy$ProxyDalAbstractCommand.perform(DaoFactory.java:155)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand$FlowControlDalCommandExecutor.execute(DalAbstractCommand.java:36)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:227)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:222)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand.execute(DalAbstractCommand.java:54)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:120)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:105)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.DefaultRetriableExecutorImpl.doExecute(DefaultRetriableExecutorImpl.java:37)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.AbstractRetriableExecutor.execute(AbstractRetriableExecutor.java:37)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:61)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:53)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy.invoke(DaoFactory.java:135)
	at com.sun.proxy.$Proxy253.allocateKeys(Unknown Source)
	at com.mercury.topaz.cmdb.server.urm.impl.UrmDaoUtil.allocateCommitRevision(UrmDaoUtil.java:61)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.updatePersistencyAndHA(URMTransactionCache.java:544)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.fullCommit(URMTransactionCache.java:298)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.commit(URMTransactionCache.java:269)
	at com.mercury.topaz.cmdb.server.transaction.Transaction.commit(Transaction.java:93)
	at com.mercury.topaz.cmdb.server.transaction.TransactionManager.commit(TransactionManager.java:94)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:538)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:521)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.callDecoratedMethod(UnifiedResourceManagerStatisticsDecorator.java:638)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$StatisticsMethodWrapper.<init>(UnifiedResourceManagerStatisticsDecorator.java:61)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.<init>(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator.commitTransaction(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.hp.ucmdb.api.server.urm.UrmExecuteRequestProcessor.process(UrmExecuteRequestProcessor.java:107)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor$1.doWork(AbstractCustomerRequestProcessor.java:25)
	at com.mercury.topaz.cmdb.shared.manage.AuthorizationEntryPointHelper.authorizeAndProcess(AuthorizationEntryPointHelper.java:50)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor.doProcess(AbstractCustomerRequestProcessor.java:22)
	at com.hp.ucmdb.api.server.request.RequestProcessorBase.processAndLog(RequestProcessorBase.java:114)
	at com.hp.ucmdb.api.server.util.ApiProcessingHelper.processRequestLocallyLocalMode(ApiProcessingHelper.java:70)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.processRequest(LocalRequestSubmitter.java:128)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.internalSubmitRequest(LocalRequestSubmitter.java:109)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:53)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:26)
	at com.hp.ucmdb.api.client.UcmdbServiceImpl.submitRequest(UcmdbServiceImpl.java:412)
	at com.hp.ucmdb.api.client.AbstractService.submitRequest(AbstractService.java:19)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.execute(UrmServiceImpl.java:35)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.putAll(UrmServiceImpl.java:57)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.put(UrmServiceImpl.java:43)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:55)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy216.put(Unknown Source)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils$3.run(ServerLoginUtils.java:369)
	at com.hp.ucmdb.uiserver.services.context.ServerContext.executeInSessionlessContext(ServerContext.java:183)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.setUIUserPreference(ServerLoginUtils.java:364)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.saveUserPasswordExpirationTimeInUserPreferences(ServerLoginUtils.java:406)
	at com.hp.ucmdb.uiserver.actions.LoginRequestAction.execute(LoginRequestAction.java:204)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:894)
	at ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1539)
	at ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)
	at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:96)
	at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:88)
	at ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1615)
	at ognl.ASTMethod.getValueBody(ASTMethod.java:91)
	at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)
	at ognl.SimpleNode.getValue(SimpleNode.java:258)
	at ognl.Ognl.getValue(Ognl.java:467)
	at ognl.Ognl.getValue(Ognl.java:431)
	at com.opensymphony.xwork2.ognl.OgnlUtil$3.execute(OgnlUtil.java:351)
	at com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecuteMethod(OgnlUtil.java:403)
	at com.opensymphony.xwork2.ognl.OgnlUtil.callMethod(OgnlUtil.java:349)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:436)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:291)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:253)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:177)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:260)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:73)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.doIntercept(ConversionErrorInterceptor.java:139)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:133)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:133)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:192)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:69)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.DateTextFieldInterceptor.intercept(DateTextFieldInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:88)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:246)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:99)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:139)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:155)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:174)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:120)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:171)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:195)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.factory.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:564)
	at org.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:81)
	at org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:143)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.AuthenticationFilter.doFilter(AuthenticationFilter.java:151)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.ClickjackingFilter.doFilter(ClickjackingFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.CSRF_Filter.doFilter(CSRF_Filter.java:74)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.XssFilter.doFilter(XssFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.sw.bto.ast.security.lwsso.LWSSOFilter.doFilter(LWSSOFilter.java:74)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpCachingPolicyFilter.doFilter(HttpCachingPolicyFilter.java:44)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.StaticResourcesIdleTimeoutFilter.doFilter(StaticResourcesIdleTimeoutFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HostHeaderFilter.doFilter(HostHeaderFilter.java:41)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpRequestMethodFilter.doFilter(HttpRequestMethodFilter.java:35)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.SecurityRestrictionsFilter.doFilter(SecurityRestrictionsFilter.java:34)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.LBSessionCookieFilter.doFilter(LBSessionCookieFilter.java:58)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
	at org.eclipse.jetty.server.Server.handle(Server.java:497)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: The connection attempt failed.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:491)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:534)
	... 179 more
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:272)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:52)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:216)
	at org.postgresql.Driver.makeConnection(Driver.java:404)
	at org.postgresql.Driver.connect(Driver.java:272)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.apache.commons.dbcp2.DriverManagerConnectionFactory.createConnection(DriverManagerConnectionFactory.java:79)
	at com.mercury.topaz.cmdb.server.manage.dal.DataDirectConnectionFactory.createConnection(DataDirectConnectionFactory.java:30)
	at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:256)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:868)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:435)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:363)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager$ConnectionPoolDecorator.borrowObject(ConnectionPoolManager.java:767)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:479)
	... 180 more
Caused by: java.net.SocketTimeoutException: connect timed out
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.postgresql.core.PGStream.<init>(PGStream.java:61)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144)
	... 194 more
2018-02-26 16:16:59,338  INFO   [qtp888378046-926] - Cannot rollback transaction, it is null 926
2018-02-26 16:17:09,346  ERROR  [qtp888378046-787] - Transaction failed and started to rollback
com.mercury.topaz.cmdb.server.manage.dal.CmdbDalException: [ErrorCode [2] Couldn't connect to database]
Error getting connection from pool, due to exception: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: The connection attempt failed.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:540)
	at com.mercury.topaz.cmdb.server.dal.dao.impl.SequencesDaoImpl.allocateKeys(SequencesDaoImpl.java:32)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy$ProxyDalAbstractCommand.perform(DaoFactory.java:155)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand$FlowControlDalCommandExecutor.execute(DalAbstractCommand.java:36)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:227)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:222)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand.execute(DalAbstractCommand.java:54)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:120)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:105)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.DefaultRetriableExecutorImpl.doExecute(DefaultRetriableExecutorImpl.java:37)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.AbstractRetriableExecutor.execute(AbstractRetriableExecutor.java:37)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:61)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:53)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy.invoke(DaoFactory.java:135)
	at com.sun.proxy.$Proxy253.allocateKeys(Unknown Source)
	at com.mercury.topaz.cmdb.server.urm.impl.UrmDaoUtil.allocateCommitRevision(UrmDaoUtil.java:61)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.updatePersistencyAndHA(URMTransactionCache.java:544)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.fullCommit(URMTransactionCache.java:298)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.commit(URMTransactionCache.java:269)
	at com.mercury.topaz.cmdb.server.transaction.Transaction.commit(Transaction.java:93)
	at com.mercury.topaz.cmdb.server.transaction.TransactionManager.commit(TransactionManager.java:94)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:538)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:521)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.callDecoratedMethod(UnifiedResourceManagerStatisticsDecorator.java:638)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$StatisticsMethodWrapper.<init>(UnifiedResourceManagerStatisticsDecorator.java:61)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.<init>(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator.commitTransaction(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.hp.ucmdb.api.server.urm.UrmExecuteRequestProcessor.process(UrmExecuteRequestProcessor.java:107)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor$1.doWork(AbstractCustomerRequestProcessor.java:25)
	at com.mercury.topaz.cmdb.shared.manage.AuthorizationEntryPointHelper.authorizeAndProcess(AuthorizationEntryPointHelper.java:50)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor.doProcess(AbstractCustomerRequestProcessor.java:22)
	at com.hp.ucmdb.api.server.request.RequestProcessorBase.processAndLog(RequestProcessorBase.java:114)
	at com.hp.ucmdb.api.server.util.ApiProcessingHelper.processRequestLocallyLocalMode(ApiProcessingHelper.java:70)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.processRequest(LocalRequestSubmitter.java:128)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.internalSubmitRequest(LocalRequestSubmitter.java:109)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:53)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:26)
	at com.hp.ucmdb.api.client.UcmdbServiceImpl.submitRequest(UcmdbServiceImpl.java:412)
	at com.hp.ucmdb.api.client.AbstractService.submitRequest(AbstractService.java:19)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.execute(UrmServiceImpl.java:35)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.putAll(UrmServiceImpl.java:57)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.put(UrmServiceImpl.java:43)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:55)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy216.put(Unknown Source)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils$3.run(ServerLoginUtils.java:369)
	at com.hp.ucmdb.uiserver.services.context.ServerContext.executeInSessionlessContext(ServerContext.java:183)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.setUIUserPreference(ServerLoginUtils.java:364)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.saveUserFailedAttemptsCounterInUserPreferences(ServerLoginUtils.java:343)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.login(ServerLoginUtils.java:191)
	at com.hp.ucmdb.uiserver.actions.LoginRequestAction.execute(LoginRequestAction.java:134)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:894)
	at ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1539)
	at ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)
	at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:96)
	at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:88)
	at ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1615)
	at ognl.ASTMethod.getValueBody(ASTMethod.java:91)
	at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)
	at ognl.SimpleNode.getValue(SimpleNode.java:258)
	at ognl.Ognl.getValue(Ognl.java:467)
	at ognl.Ognl.getValue(Ognl.java:431)
	at com.opensymphony.xwork2.ognl.OgnlUtil$3.execute(OgnlUtil.java:351)
	at com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecuteMethod(OgnlUtil.java:403)
	at com.opensymphony.xwork2.ognl.OgnlUtil.callMethod(OgnlUtil.java:349)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:436)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:291)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:253)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:177)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:260)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:73)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.doIntercept(ConversionErrorInterceptor.java:139)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:133)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:133)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:192)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:69)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.DateTextFieldInterceptor.intercept(DateTextFieldInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:88)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:246)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:99)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:139)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:155)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:174)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:120)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:171)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:195)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.factory.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:564)
	at org.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:81)
	at org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:143)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.AuthenticationFilter.doFilter(AuthenticationFilter.java:151)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.ClickjackingFilter.doFilter(ClickjackingFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.CSRF_Filter.doFilter(CSRF_Filter.java:74)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.XssFilter.doFilter(XssFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.sw.bto.ast.security.lwsso.LWSSOFilter.doFilter(LWSSOFilter.java:74)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpCachingPolicyFilter.doFilter(HttpCachingPolicyFilter.java:44)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.StaticResourcesIdleTimeoutFilter.doFilter(StaticResourcesIdleTimeoutFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HostHeaderFilter.doFilter(HostHeaderFilter.java:41)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpRequestMethodFilter.doFilter(HttpRequestMethodFilter.java:35)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.SecurityRestrictionsFilter.doFilter(SecurityRestrictionsFilter.java:34)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.LBSessionCookieFilter.doFilter(LBSessionCookieFilter.java:58)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
	at org.eclipse.jetty.server.Server.handle(Server.java:497)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: The connection attempt failed.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:491)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:534)
	... 180 more
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:272)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:52)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:216)
	at org.postgresql.Driver.makeConnection(Driver.java:404)
	at org.postgresql.Driver.connect(Driver.java:272)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.apache.commons.dbcp2.DriverManagerConnectionFactory.createConnection(DriverManagerConnectionFactory.java:79)
	at com.mercury.topaz.cmdb.server.manage.dal.DataDirectConnectionFactory.createConnection(DataDirectConnectionFactory.java:30)
	at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:256)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:868)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:435)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:363)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager$ConnectionPoolDecorator.borrowObject(ConnectionPoolManager.java:767)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:479)
	... 181 more
Caused by: java.net.SocketTimeoutException: connect timed out
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.postgresql.core.PGStream.<init>(PGStream.java:61)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144)
	... 195 more
2018-02-26 16:17:09,348  INFO   [qtp888378046-787] - Cannot rollback transaction, it is null 787
2018-02-26 16:17:19,372  ERROR  [qtp888378046-787] - Transaction failed and started to rollback
com.mercury.topaz.cmdb.server.manage.dal.CmdbDalException: [ErrorCode [2] Couldn't connect to database]
Error getting connection from pool, due to exception: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: The connection attempt failed.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:540)
	at com.mercury.topaz.cmdb.server.dal.dao.impl.SequencesDaoImpl.allocateKeys(SequencesDaoImpl.java:32)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy$ProxyDalAbstractCommand.perform(DaoFactory.java:155)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand$FlowControlDalCommandExecutor.execute(DalAbstractCommand.java:36)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:227)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:222)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand.execute(DalAbstractCommand.java:54)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:120)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:105)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.DefaultRetriableExecutorImpl.doExecute(DefaultRetriableExecutorImpl.java:37)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.AbstractRetriableExecutor.execute(AbstractRetriableExecutor.java:37)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:61)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:53)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy.invoke(DaoFactory.java:135)
	at com.sun.proxy.$Proxy253.allocateKeys(Unknown Source)
	at com.mercury.topaz.cmdb.server.urm.impl.UrmDaoUtil.allocateCommitRevision(UrmDaoUtil.java:61)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.updatePersistencyAndHA(URMTransactionCache.java:544)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.fullCommit(URMTransactionCache.java:298)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.commit(URMTransactionCache.java:269)
	at com.mercury.topaz.cmdb.server.transaction.Transaction.commit(Transaction.java:93)
	at com.mercury.topaz.cmdb.server.transaction.TransactionManager.commit(TransactionManager.java:94)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:538)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:521)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.callDecoratedMethod(UnifiedResourceManagerStatisticsDecorator.java:638)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$StatisticsMethodWrapper.<init>(UnifiedResourceManagerStatisticsDecorator.java:61)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.<init>(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator.commitTransaction(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.hp.ucmdb.api.server.urm.UrmExecuteRequestProcessor.process(UrmExecuteRequestProcessor.java:107)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor$1.doWork(AbstractCustomerRequestProcessor.java:25)
	at com.mercury.topaz.cmdb.shared.manage.AuthorizationEntryPointHelper.authorizeAndProcess(AuthorizationEntryPointHelper.java:50)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor.doProcess(AbstractCustomerRequestProcessor.java:22)
	at com.hp.ucmdb.api.server.request.RequestProcessorBase.processAndLog(RequestProcessorBase.java:114)
	at com.hp.ucmdb.api.server.util.ApiProcessingHelper.processRequestLocallyLocalMode(ApiProcessingHelper.java:70)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.processRequest(LocalRequestSubmitter.java:128)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.internalSubmitRequest(LocalRequestSubmitter.java:109)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:53)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:26)
	at com.hp.ucmdb.api.client.UcmdbServiceImpl.submitRequest(UcmdbServiceImpl.java:412)
	at com.hp.ucmdb.api.client.AbstractService.submitRequest(AbstractService.java:19)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.execute(UrmServiceImpl.java:35)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.putAll(UrmServiceImpl.java:57)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.put(UrmServiceImpl.java:43)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:55)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy216.put(Unknown Source)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils$3.run(ServerLoginUtils.java:369)
	at com.hp.ucmdb.uiserver.services.context.ServerContext.executeInSessionlessContext(ServerContext.java:183)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.setUIUserPreference(ServerLoginUtils.java:364)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.saveUserPasswordExpirationTimeInUserPreferences(ServerLoginUtils.java:406)
	at com.hp.ucmdb.uiserver.actions.LoginRequestAction.execute(LoginRequestAction.java:204)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:894)
	at ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1539)
	at ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)
	at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:96)
	at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:88)
	at ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1615)
	at ognl.ASTMethod.getValueBody(ASTMethod.java:91)
	at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)
	at ognl.SimpleNode.getValue(SimpleNode.java:258)
	at ognl.Ognl.getValue(Ognl.java:467)
	at ognl.Ognl.getValue(Ognl.java:431)
	at com.opensymphony.xwork2.ognl.OgnlUtil$3.execute(OgnlUtil.java:351)
	at com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecuteMethod(OgnlUtil.java:403)
	at com.opensymphony.xwork2.ognl.OgnlUtil.callMethod(OgnlUtil.java:349)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:436)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:291)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:253)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:177)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:260)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:73)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.doIntercept(ConversionErrorInterceptor.java:139)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:133)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:133)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:192)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:69)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.DateTextFieldInterceptor.intercept(DateTextFieldInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:88)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:246)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:99)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:139)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:155)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:174)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:120)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:171)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:195)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)
	at org.apache.struts2.factory.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:564)
	at org.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:81)
	at org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:143)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.AuthenticationFilter.doFilter(AuthenticationFilter.java:151)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.ClickjackingFilter.doFilter(ClickjackingFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.CSRF_Filter.doFilter(CSRF_Filter.java:74)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.XssFilter.doFilter(XssFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.sw.bto.ast.security.lwsso.LWSSOFilter.doFilter(LWSSOFilter.java:74)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpCachingPolicyFilter.doFilter(HttpCachingPolicyFilter.java:44)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.StaticResourcesIdleTimeoutFilter.doFilter(StaticResourcesIdleTimeoutFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HostHeaderFilter.doFilter(HostHeaderFilter.java:41)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpRequestMethodFilter.doFilter(HttpRequestMethodFilter.java:35)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.SecurityRestrictionsFilter.doFilter(SecurityRestrictionsFilter.java:34)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.LBSessionCookieFilter.doFilter(LBSessionCookieFilter.java:58)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
	at org.eclipse.jetty.server.Server.handle(Server.java:497)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: The connection attempt failed.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:491)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:534)
	... 179 more
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:272)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:52)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:216)
	at org.postgresql.Driver.makeConnection(Driver.java:404)
	at org.postgresql.Driver.connect(Driver.java:272)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.apache.commons.dbcp2.DriverManagerConnectionFactory.createConnection(DriverManagerConnectionFactory.java:79)
	at com.mercury.topaz.cmdb.server.manage.dal.DataDirectConnectionFactory.createConnection(DataDirectConnectionFactory.java:30)
	at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:256)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:868)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:435)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:363)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager$ConnectionPoolDecorator.borrowObject(ConnectionPoolManager.java:767)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:479)
	... 180 more
Caused by: java.net.SocketTimeoutException: connect timed out
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.postgresql.core.PGStream.<init>(PGStream.java:61)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144)
	... 194 more
2018-02-26 16:17:19,372  INFO   [qtp888378046-787] - Cannot rollback transaction, it is null 787
2018-02-26 16:17:29,630  ERROR  [qtp888378046-804] - Transaction failed and started to rollback
com.mercury.topaz.cmdb.server.manage.dal.CmdbDalException: [ErrorCode [2] Couldn't connect to database]
Error getting connection from pool, due to exception: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: The connection attempt failed.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:540)
	at com.mercury.topaz.cmdb.server.dal.dao.impl.SequencesDaoImpl.allocateKeys(SequencesDaoImpl.java:32)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy$ProxyDalAbstractCommand.perform(DaoFactory.java:155)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand$FlowControlDalCommandExecutor.execute(DalAbstractCommand.java:36)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:227)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:222)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand.execute(DalAbstractCommand.java:54)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:120)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:105)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.DefaultRetriableExecutorImpl.doExecute(DefaultRetriableExecutorImpl.java:37)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.AbstractRetriableExecutor.execute(AbstractRetriableExecutor.java:37)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:61)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:53)
	at com.mercury.topaz.cmdb.server.manage.dal.dao.DaoFactory$TransactionProxy.invoke(DaoFactory.java:135)
	at com.sun.proxy.$Proxy253.allocateKeys(Unknown Source)
	at com.mercury.topaz.cmdb.server.urm.impl.UrmDaoUtil.allocateCommitRevision(UrmDaoUtil.java:61)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.updatePersistencyAndHA(URMTransactionCache.java:544)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.fullCommit(URMTransactionCache.java:298)
	at com.mercury.topaz.cmdb.server.urm.transactions.URMTransactionCache.commit(URMTransactionCache.java:269)
	at com.mercury.topaz.cmdb.server.transaction.Transaction.commit(Transaction.java:93)
	at com.mercury.topaz.cmdb.server.transaction.TransactionManager.commit(TransactionManager.java:94)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:538)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerImpl.commitTransaction(UnifiedResourceManagerImpl.java:521)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.callDecoratedMethod(UnifiedResourceManagerStatisticsDecorator.java:638)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$StatisticsMethodWrapper.<init>(UnifiedResourceManagerStatisticsDecorator.java:61)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator$50.<init>(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.mercury.topaz.cmdb.server.urm.impl.UnifiedResourceManagerStatisticsDecorator.commitTransaction(UnifiedResourceManagerStatisticsDecorator.java:636)
	at com.hp.ucmdb.api.server.urm.UrmExecuteRequestProcessor.process(UrmExecuteRequestProcessor.java:107)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor$1.doWork(AbstractCustomerRequestProcessor.java:25)
	at com.mercury.topaz.cmdb.shared.manage.AuthorizationEntryPointHelper.authorizeAndProcess(AuthorizationEntryPointHelper.java:50)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor.doProcess(AbstractCustomerRequestProcessor.java:22)
	at com.hp.ucmdb.api.server.request.RequestProcessorBase.processAndLog(RequestProcessorBase.java:114)
	at com.hp.ucmdb.api.server.util.ApiProcessingHelper.processRequestLocallyLocalMode(ApiProcessingHelper.java:70)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.processRequest(LocalRequestSubmitter.java:128)
	at com.hp.ucmdb.api.server.local.LocalRequestSubmitter.internalSubmitRequest(LocalRequestSubmitter.java:109)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:53)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:26)
	at com.hp.ucmdb.api.client.UcmdbServiceImpl.submitRequest(UcmdbServiceImpl.java:412)
	at com.hp.ucmdb.api.client.AbstractService.submitRequest(AbstractService.java:19)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.execute(UrmServiceImpl.java:35)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.putAll(UrmServiceImpl.java:57)
	at com.hp.ucmdb.api.client.urm.UrmServiceImpl.put(UrmServiceImpl.java:43)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:55)
	at com.hp.ucmdb.uiserver.services.cmdb.impl.ResourceManagementServiceImpl.put(ResourceManagementServiceImpl.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy216.put(Unknown Source)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils$3.run(ServerLoginUtils.java:369)
	at com.hp.ucmdb.uiserver.services.context.ServerContext.executeInSessionlessContext(ServerContext.java:183)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.setUIUserPreference(ServerLoginUtils.java:364)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.saveUserFailedAttemptsCounterInUserPreferences(ServerLoginUtils.java:343)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.login(ServerLoginUtils.java:191)
	at com.hp.ucmdb.uiserver.actions.login.ServerLoginUtils.loginUsingURLParams(ServerLoginUtils.java:630)
	at com.hp.ucmdb.uiserver.servlets.AuthenticationFilter.doFilter(AuthenticationFilter.java:134)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.ClickjackingFilter.doFilter(ClickjackingFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.CSRF_Filter.doFilter(CSRF_Filter.java:53)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.NoCacheFilter.doFilter(NoCacheFilter.java:26)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.uiserver.servlets.XssFilter.doFilter(XssFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.sw.bto.ast.security.lwsso.LWSSOFilter.doFilter(LWSSOFilter.java:74)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpCachingPolicyFilter.doFilter(HttpCachingPolicyFilter.java:44)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.StaticResourcesIdleTimeoutFilter.doFilter(StaticResourcesIdleTimeoutFilter.java:31)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HostHeaderFilter.doFilter(HostHeaderFilter.java:41)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpRequestMethodFilter.doFilter(HttpRequestMethodFilter.java:35)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.SecurityRestrictionsFilter.doFilter(SecurityRestrictionsFilter.java:34)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.LBSessionCookieFilter.doFilter(LBSessionCookieFilter.java:58)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
	at org.eclipse.jetty.server.Server.handle(Server.java:497)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
org.postgresql.util.PSQLException: The connection attempt failed.
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:491)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getTransactionalConnection(ConnectionPoolManager.java:534)
	... 111 more
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:272)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:52)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:216)
	at org.postgresql.Driver.makeConnection(Driver.java:404)
	at org.postgresql.Driver.connect(Driver.java:272)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.apache.commons.dbcp2.DriverManagerConnectionFactory.createConnection(DriverManagerConnectionFactory.java:79)
	at com.mercury.topaz.cmdb.server.manage.dal.DataDirectConnectionFactory.createConnection(DataDirectConnectionFactory.java:30)
	at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:256)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:868)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:435)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:363)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager$ConnectionPoolDecorator.borrowObject(ConnectionPoolManager.java:767)
	at com.mercury.topaz.cmdb.server.manage.dal.ConnectionPoolManager.getNativeConnection(ConnectionPoolManager.java:479)
	... 112 more
Caused by: java.net.SocketTimeoutException: connect timed out
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.postgresql.core.PGStream.<init>(PGStream.java:61)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144)
	... 126 more
2018-02-26 16:17:29,630  INFO   [qtp888378046-804] - Cannot rollback transaction, it is null 804
